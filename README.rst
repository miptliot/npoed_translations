Описание
--------
Скрипт для разделения текущих переводов openedu на те, что уже есть в edx, и на собственные дополнения и перезаписи.

Требует ``polib``.

Подготовка
----------
В папках собраны текущие .po файлы edx и текущие npoed переводы. Для прокторинга также добавлен фрагмент из platform/django.po, т.к. у нас там часть переводов.
Раздел `Использование`_. не обязателен: можно перейти сразу к `Добавление в edx`_.

Использование
-------------

*
  ::

    python transform_translations.py separate

  Разделяет переводы и складывает в ``collected/`` файлы ``*_add`` и ``*_over`` для каждого приложения. Можно посмотреть over файлы и решить, нужны ли такие перезаписи.

*
  ::

    python transform_translations.py compile

  Создает общий файл переводо npoed_total(js).po в collected. Предупреждает о наличии неуникальных msgid. Если есть предупреждения - их необходимо исправить до использования в edx, иначе edx выдаст ошибку при компиляции .po файлов.

*
  ::

    python transform_translations.py fix

  Делает неуникальные msgid в ``npoed_total(js).po`` уникальными, выбрасывая все значения, кроме одного (произвольного).

Добавление в edx
----------------
Создаем папку с любым названием, напрмиер, "npoed". В ней создаем ``ru/LC_MESSAGES/`` и забрасываем в нее ``collected/npoed_total.po`` и ``collected/npoed_totaljs.po`` как ``django.po`` и ``djangojs.po``. Другие названия не будут работать.

Добавляем путь до "npoed" в LOCALE_PATHS первым:

    ::

        LOCALE_PATHS = (REPO_ROOT + "/npoed", ) + LOCALE_PATHS
